<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PU2CLR PCF8574 Arduino Library: /Users/rcaratti/Desenvolvimento/eu/Arduino/PU2CLR_PCF8574T/PCF8574/pu2clr_pcf8574.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PU2CLR PCF8574 Arduino Library
   &#160;<span id="projectnumber">1.0.1</span>
   </div>
   <div id="projectbrief">Arduino Library for PCF8574 Device - By Ricardo Lima Caratti</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('pu2clr__pcf8574_8h_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">/Users/rcaratti/Desenvolvimento/eu/Arduino/PU2CLR_PCF8574T/PCF8574/pu2clr_pcf8574.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="pu2clr__pcf8574_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * @mainpage PCF8574 Arduino Library implementation </span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * @details This library was built based on the Datasheet &quot;PCF8574 8-Bit I/O Expander with Serial Interface&quot; from Microchip</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * @details The PCF8574 device provides 8-bit, general purpose, parallel I/O expansion. It can be controlled via I²C bus applications. It is a great and inexpensive device that allow you to add more peripherals to be controlled by your Arduino board via I²C protocol.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * @details Some Arduino projects may require more pins than the Arduino actually has. In these cases, you can use up to 8 PCF8574 devices using only the I²C bus (two Arduino pins) and add up to 64 input / output ports to your project. </span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * @details This library can be freely distributed using the MIT Free Software model.</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * @details This library uses the I²C communication protocol and implements most important functions offered by PCF8574 device from MicroChip. It also has primitive functions that make it easier to implement commands that may not have been implemented yet. The main features implemented can be seen below:</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * @details 1) GPIO individual control (8 I/O pins)</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * @details 2) I²C address customization </span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * @author Ricardo LIma Caratti (pu2clr@gmail.com)</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * @brief It is a Library to control the PCF8574 device.</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * @date 2021-01-20</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * @copyright Copyright (c) 2021 Ricardo Lima Caratti</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160; </div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#</span><span class="preprocessor">include</span> <span class="preprocessor">&lt;</span><span class="preprocessor">Arduino</span><span class="preprocessor">.</span><span class="preprocessor">h</span><span class="preprocessor">&gt;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160; </div>
<div class="line"><a name="l00018"></a><span class="lineno"><a class="line" href="pu2clr__pcf8574_8h.html#aeaf4e0a0a39ead6d5acfb83889f9b864">   18</a></span>&#160;<span class="preprocessor">#</span><span class="preprocessor">define</span> <span class="preprocessor">DEFAULT_I2C_ADDRESS</span> 0x20 <span class="comment">// Default I2C Address</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160; </div>
<div class="line"><a name="l00020"></a><span class="lineno"><a class="line" href="pu2clr__pcf8574_8h.html#a6eb36f4b64dd3ecf890f9360b7b754fb">   20</a></span>&#160;<span class="preprocessor">#</span><span class="preprocessor">define</span> <span class="preprocessor">PCF_GPIO0</span> 0</div>
<div class="line"><a name="l00021"></a><span class="lineno"><a class="line" href="pu2clr__pcf8574_8h.html#a34c4c0d4539204c618a291ba416bf741">   21</a></span>&#160;<span class="preprocessor">#</span><span class="preprocessor">define</span> <span class="preprocessor">PCF_GPIO1</span> 1</div>
<div class="line"><a name="l00022"></a><span class="lineno"><a class="line" href="pu2clr__pcf8574_8h.html#a2697d4c4b917fa6d94b1c4c6156e4237">   22</a></span>&#160;<span class="preprocessor">#</span><span class="preprocessor">define</span> <span class="preprocessor">PCF_GPIO2</span> 2</div>
<div class="line"><a name="l00023"></a><span class="lineno"><a class="line" href="pu2clr__pcf8574_8h.html#a4433326059fd2e0e42d9ef6716e989db">   23</a></span>&#160;<span class="preprocessor">#</span><span class="preprocessor">define</span> <span class="preprocessor">PCF_GPIO3</span> 3</div>
<div class="line"><a name="l00024"></a><span class="lineno"><a class="line" href="pu2clr__pcf8574_8h.html#a59be1997d93b6c1eb7b490434668b95d">   24</a></span>&#160;<span class="preprocessor">#</span><span class="preprocessor">define</span> <span class="preprocessor">PCF_GPIO4</span> 4</div>
<div class="line"><a name="l00025"></a><span class="lineno"><a class="line" href="pu2clr__pcf8574_8h.html#a36bbd28c7cdc126c943570ab42921a26">   25</a></span>&#160;<span class="preprocessor">#</span><span class="preprocessor">define</span> <span class="preprocessor">PCF_GPIO5</span> 5</div>
<div class="line"><a name="l00026"></a><span class="lineno"><a class="line" href="pu2clr__pcf8574_8h.html#a7ee2c940fc546145c1c153371f520284">   26</a></span>&#160;<span class="preprocessor">#</span><span class="preprocessor">define</span> <span class="preprocessor">PCF_GPIO6</span> 6</div>
<div class="line"><a name="l00027"></a><span class="lineno"><a class="line" href="pu2clr__pcf8574_8h.html#a23f82e80584568ed1a3756fbd5ccf981">   27</a></span>&#160;<span class="preprocessor">#</span><span class="preprocessor">define</span> <span class="preprocessor">PCF_GPIO7</span> 7</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160; </div>
<div class="line"><a name="l00029"></a><span class="lineno"><a class="line" href="pu2clr__pcf8574_8h.html#a5ad3072fecf0d98cd66b27d9f1778918">   29</a></span>&#160;<span class="preprocessor">#</span><span class="preprocessor">define</span> <span class="preprocessor">CHECK_BIT_HIGH</span><span class="preprocessor">(</span><span class="preprocessor">x</span><span class="preprocessor">,</span> <span class="preprocessor">y</span><span class="preprocessor">)</span> <span class="preprocessor">(</span><span class="preprocessor">x</span> <span class="preprocessor">&amp;</span> <span class="preprocessor">(</span>1 <span class="preprocessor">&lt;&lt;</span> <span class="preprocessor">y</span><span class="preprocessor">)</span><span class="preprocessor">)</span> <span class="comment">//!&lt; Check if a bit is high. Returns 0 or != 0</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160; </div>
<div class="line"><a name="l00031"></a><span class="lineno"><a class="line" href="class_p_c_f.html">   31</a></span>&#160;<span class="keyword">class</span> <a class="code" href="class_p_c_f.html">PCF</a></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;{</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="keyword">protected</span>:</div>
<div class="line"><a name="l00034"></a><span class="lineno"><a class="line" href="class_p_c_f.html#ac0b527777ab1feb0a46a06834434150e">   34</a></span>&#160;   <a class="code" href="class_p_c_f.html#ac0b527777ab1feb0a46a06834434150e">uint8_t</a> <a class="code" href="class_p_c_f.html#ac0b527777ab1feb0a46a06834434150e">i2c_address</a> = <a class="code" href="pu2clr__pcf8574_8h.html#aeaf4e0a0a39ead6d5acfb83889f9b864">DEFAULT_I2C_ADDRESS</a>; <span class="comment">//!&lt; Default i2c address</span></div>
<div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="class_p_c_f.html#a21bb3af8abd2e14100f96f9a68d38781">   35</a></span>&#160;   <span class="keywordtype">int</span> <a class="code" href="class_p_c_f.html#a21bb3af8abd2e14100f96f9a68d38781">reset_pin</a> = -1;                        <span class="comment">//!&lt; Digital Arduino pin to control the PCF8574 RESET</span></div>
<div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="class_p_c_f.html#a19d16c732925c53756c73768ff816d48">   36</a></span>&#160;   <span class="keywordtype">bool</span> <a class="code" href="class_p_c_f.html#a19d16c732925c53756c73768ff816d48">io_error</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160; </div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;   <a class="code" href="group__group01.html#gabb38aa941e8b607557fa8f3f98bf9fc5">uint8_t</a> <a class="code" href="group__group01.html#gabb38aa941e8b607557fa8f3f98bf9fc5">lookForDevice</a>();</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;   <span class="keywordtype">void</span> <a class="code" href="class_p_c_f.html#a8677455a70f81c90fe2e3f9d34725de1">reset</a>();</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;   <span class="keywordtype">void</span> <a class="code" href="group__group01.html#gaa82dedfda18287bd2dd32dc28f73e69e">setup</a>(uint8_t i2c = <a class="code" href="pu2clr__pcf8574_8h.html#aeaf4e0a0a39ead6d5acfb83889f9b864">DEFAULT_I2C_ADDRESS</a>);</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;   <span class="keywordtype">void</span> <a class="code" href="group__group01.html#ga85a685c9623a84a5c924762963c635b3">write</a>(uint8_t value);</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;   <a class="code" href="group__group01.html#gacce5891bfdce19944b7b0859e5e739ba">uint8_t</a> <a class="code" href="group__group01.html#gacce5891bfdce19944b7b0859e5e739ba">read</a>();</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;   <a class="code" href="group__group01.html#gaca2dae7a91c98c4b9bb009709dd1179f">uint8_t</a> <a class="code" href="group__group01.html#gaca2dae7a91c98c4b9bb009709dd1179f">digitalRead</a>(<a class="code" href="group__group01.html#gaca2dae7a91c98c4b9bb009709dd1179f">uint8_t</a> <a class="code" href="group__group01.html#gaca2dae7a91c98c4b9bb009709dd1179f">port</a>);</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;   <span class="keywordtype">void</span> <a class="code" href="class_p_c_f.html#aaaad79a637bf70a5a8cb60ca457c9e82">digitalWrite</a>(uint8_t port, uint8_t value);</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160; </div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;   <span class="comment">/**</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">    * @ingroup group01</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">    * @brief Returns the last wrire or read status</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">    * @details Return false when the last read or write operation is not ok </span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment">    * @return true or false</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment">    */</span></div>
<div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="group__group01.html#gaed902e8d7d43de9eab1cc71a0b71f7f8">   53</a></span>&#160;   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="group__group01.html#gaed902e8d7d43de9eab1cc71a0b71f7f8">error</a>(){<span class="keywordflow">return</span> <span class="keyword">this</span><a class="code" href="class_p_c_f.html#a19d16c732925c53756c73768ff816d48">-&gt;</a><a class="code" href="class_p_c_f.html#a19d16c732925c53756c73768ff816d48">io_error</a>;};</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;};</div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="aclass_p_c_f_html_a19d16c732925c53756c73768ff816d48"><div class="ttname"><a href="class_p_c_f.html#a19d16c732925c53756c73768ff816d48">PCF::io_error</a></div><div class="ttdeci">bool io_error</div><div class="ttdef"><b>Definition:</b> pu2clr_pcf8574.h:36</div></div>
<div class="ttc" id="aclass_p_c_f_html_ac0b527777ab1feb0a46a06834434150e"><div class="ttname"><a href="class_p_c_f.html#ac0b527777ab1feb0a46a06834434150e">PCF::i2c_address</a></div><div class="ttdeci">uint8_t i2c_address</div><div class="ttdoc">Default i2c address.</div><div class="ttdef"><b>Definition:</b> pu2clr_pcf8574.h:34</div></div>
<div class="ttc" id="agroup__group01_html_ga85a685c9623a84a5c924762963c635b3"><div class="ttname"><a href="group__group01.html#ga85a685c9623a84a5c924762963c635b3">PCF::write</a></div><div class="ttdeci">void write(uint8_t value)</div><div class="ttdoc">Sets a value to a given register.</div><div class="ttdef"><b>Definition:</b> pu2clr_pcf8574.cpp:76</div></div>
<div class="ttc" id="aclass_p_c_f_html_a21bb3af8abd2e14100f96f9a68d38781"><div class="ttname"><a href="class_p_c_f.html#a21bb3af8abd2e14100f96f9a68d38781">PCF::reset_pin</a></div><div class="ttdeci">int reset_pin</div><div class="ttdoc">Digital Arduino pin to control the PCF8574 RESET.</div><div class="ttdef"><b>Definition:</b> pu2clr_pcf8574.h:35</div></div>
<div class="ttc" id="agroup__group01_html_gaed902e8d7d43de9eab1cc71a0b71f7f8"><div class="ttname"><a href="group__group01.html#gaed902e8d7d43de9eab1cc71a0b71f7f8">PCF::error</a></div><div class="ttdeci">bool error()</div><div class="ttdoc">Returns the last wrire or read status.</div><div class="ttdef"><b>Definition:</b> pu2clr_pcf8574.h:53</div></div>
<div class="ttc" id="agroup__group01_html_gaca2dae7a91c98c4b9bb009709dd1179f"><div class="ttname"><a href="group__group01.html#gaca2dae7a91c98c4b9bb009709dd1179f">PCF::digitalRead</a></div><div class="ttdeci">uint8_t digitalRead(uint8_t port)</div><div class="ttdoc">Reads a given port content (HIGH or LOW)</div><div class="ttdef"><b>Definition:</b> pu2clr_pcf8574.cpp:93</div></div>
<div class="ttc" id="aclass_p_c_f_html_aaaad79a637bf70a5a8cb60ca457c9e82"><div class="ttname"><a href="class_p_c_f.html#aaaad79a637bf70a5a8cb60ca457c9e82">PCF::digitalWrite</a></div><div class="ttdeci">void digitalWrite(uint8_t port, uint8_t value)</div><div class="ttdoc">Writes HIGH or LOW in a given port (pin)</div><div class="ttdef"><b>Definition:</b> pu2clr_pcf8574.cpp:103</div></div>
<div class="ttc" id="apu2clr__pcf8574_8h_html_aeaf4e0a0a39ead6d5acfb83889f9b864"><div class="ttname"><a href="pu2clr__pcf8574_8h.html#aeaf4e0a0a39ead6d5acfb83889f9b864">DEFAULT_I2C_ADDRESS</a></div><div class="ttdeci">#define DEFAULT_I2C_ADDRESS</div><div class="ttdef"><b>Definition:</b> pu2clr_pcf8574.h:18</div></div>
<div class="ttc" id="agroup__group01_html_gabb38aa941e8b607557fa8f3f98bf9fc5"><div class="ttname"><a href="group__group01.html#gabb38aa941e8b607557fa8f3f98bf9fc5">PCF::lookForDevice</a></div><div class="ttdeci">uint8_t lookForDevice()</div><div class="ttdoc">Look for PCF8574 device I2C Address.</div><div class="ttdef"><b>Definition:</b> pu2clr_pcf8574.cpp:28</div></div>
<div class="ttc" id="aclass_p_c_f_html_a8677455a70f81c90fe2e3f9d34725de1"><div class="ttname"><a href="class_p_c_f.html#a8677455a70f81c90fe2e3f9d34725de1">PCF::reset</a></div><div class="ttdeci">void reset()</div></div>
<div class="ttc" id="agroup__group01_html_gacce5891bfdce19944b7b0859e5e739ba"><div class="ttname"><a href="group__group01.html#gacce5891bfdce19944b7b0859e5e739ba">PCF::read</a></div><div class="ttdeci">uint8_t read()</div><div class="ttdoc">Gets the corrent register information.</div><div class="ttdef"><b>Definition:</b> pu2clr_pcf8574.cpp:62</div></div>
<div class="ttc" id="aclass_p_c_f_html"><div class="ttname"><a href="class_p_c_f.html">PCF</a></div><div class="ttdef"><b>Definition:</b> pu2clr_pcf8574.h:31</div></div>
<div class="ttc" id="agroup__group01_html_gaa82dedfda18287bd2dd32dc28f73e69e"><div class="ttname"><a href="group__group01.html#gaa82dedfda18287bd2dd32dc28f73e69e">PCF::setup</a></div><div class="ttdeci">void setup(uint8_t i2c=DEFAULT_I2C_ADDRESS)</div><div class="ttdoc">Starts the PCF8574.</div><div class="ttdef"><b>Definition:</b> pu2clr_pcf8574.cpp:50</div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="pu2clr__pcf8574_8h.html">pu2clr_pcf8574.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
